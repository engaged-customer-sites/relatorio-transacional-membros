import{u as ke,f as ye,a as xe,g as we,c as Me,b as be,h as X,e as ie,i as Se,k as ee}from"./axios.8131d199.js";import{r as H,w as j,e as Z,ak as pe,a as N,c as ue,d as Ce,o as ce,h as G,ab as _e,g as de,y as te,E as Fe,a0 as Ee,a5 as Re,b as Ve,a1 as Ae,B as ae,at as Ie,f as Pe,av as Te,_ as fe,aq as qe,aw as Oe,K as me,ar as ge,N as Q,M as Be,P as Y,Q as ne,J as Ne,ax as $e,ay as Le}from"./index.8056c2df.js";import"./use-dark.8b694df5.js";const oe={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},J={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},ve=Object.keys(J);ve.forEach(e=>{J[e].regex=new RegExp(J[e].pattern)});const je=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+ve.join("")+"])|(.)","g"),le=/[.*+?^${}()|[\]\\]/g,S=String.fromCharCode(1),Ke={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function De(e,h,C,k){let r,u,f,R,P,g;const x=H(null),i=H(s());function L(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}j(()=>e.type+e.autogrow,T),j(()=>e.mask,o=>{if(o!==void 0)B(i.value,!0);else{const a=I(i.value);T(),e.modelValue!==a&&h("update:modelValue",a)}}),j(()=>e.fillMask+e.reverseFillMask,()=>{x.value===!0&&B(i.value,!0)}),j(()=>e.unmaskedValue,()=>{x.value===!0&&B(i.value)});function s(){if(T(),x.value===!0){const o=E(I(e.modelValue));return e.fillMask!==!1?W(o):o}return e.modelValue}function _(o){if(o<r.length)return r.slice(-o);let a="",l=r;const n=l.indexOf(S);if(n>-1){for(let d=o-l.length;d>0;d--)a+=S;l=l.slice(0,n)+a+l.slice(n)}return l}function T(){if(x.value=e.mask!==void 0&&e.mask.length!==0&&L(),x.value===!1){R=void 0,r="",u="";return}const o=oe[e.mask]===void 0?e.mask:oe[e.mask],a=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",l=a.replace(le,"\\$&"),n=[],d=[],c=[];let b=e.reverseFillMask===!0,m="",v="";o.replace(je,(p,t,w,$,O)=>{if($!==void 0){const V=J[$];c.push(V),v=V.negate,b===!0&&(d.push("(?:"+v+"+)?("+V.pattern+"+)?(?:"+v+"+)?("+V.pattern+"+)?"),b=!1),d.push("(?:"+v+"+)?("+V.pattern+")?")}else if(w!==void 0)m="\\"+(w==="\\"?"":w),c.push(w),n.push("([^"+m+"]+)?"+m+"?");else{const V=t!==void 0?t:O;m=V==="\\"?"\\\\\\\\":V.replace(le,"\\\\$&"),c.push(V),n.push("([^"+m+"]+)?"+m+"?")}});const K=new RegExp("^"+n.join("")+"("+(m===""?".":"[^"+m+"]")+"+)?"+(m===""?"":"["+m+"]*")+"$"),D=d.length-1,y=d.map((p,t)=>t===0&&e.reverseFillMask===!0?new RegExp("^"+l+"*"+p):t===D?new RegExp("^"+p+"("+(v===""?".":v)+"+)?"+(e.reverseFillMask===!0?"$":l+"*")):new RegExp("^"+p));f=c,R=p=>{const t=K.exec(e.reverseFillMask===!0?p:p.slice(0,c.length+1));t!==null&&(p=t.slice(1).join(""));const w=[],$=y.length;for(let O=0,V=p;O<$;O++){const U=y[O].exec(V);if(U===null)break;V=V.slice(U.shift().length),w.push(...U)}return w.length!==0?w.join(""):p},r=c.map(p=>typeof p=="string"?p:S).join(""),u=r.split(S).join(a)}function B(o,a,l){const n=k.value,d=n.selectionEnd,c=n.value.length-d,b=I(o);a===!0&&T();const m=E(b),v=e.fillMask!==!1?W(m):m,K=i.value!==v;n.value!==v&&(n.value=v),K===!0&&(i.value=v),document.activeElement===n&&Z(()=>{if(v===u){const y=e.reverseFillMask===!0?u.length:0;n.setSelectionRange(y,y,"forward");return}if(l==="insertFromPaste"&&e.reverseFillMask!==!0){const y=n.selectionEnd;let p=d-1;for(let t=P;t<=p&&t<y;t++)r[t]!==S&&p++;A.right(n,p);return}if(["deleteContentBackward","deleteContentForward"].indexOf(l)>-1){const y=e.reverseFillMask===!0?d===0?v.length>m.length?1:0:Math.max(0,v.length-(v===u?0:Math.min(m.length,c)+1))+1:d;n.setSelectionRange(y,y,"forward");return}if(e.reverseFillMask===!0)if(K===!0){const y=Math.max(0,v.length-(v===u?0:Math.min(m.length,c+1)));y===1&&d===1?n.setSelectionRange(y,y,"forward"):A.rightReverse(n,y)}else{const y=v.length-c;n.setSelectionRange(y,y,"backward")}else if(K===!0){const y=Math.max(0,r.indexOf(S),Math.min(m.length,d)-1);A.right(n,y)}else{const y=d-1;A.right(n,y)}});const D=e.unmaskedValue===!0?I(v):v;String(e.modelValue)!==D&&C(D,!0)}function z(o,a,l){const n=E(I(o.value));a=Math.max(0,r.indexOf(S),Math.min(n.length,a)),P=a,o.setSelectionRange(a,l,"forward")}const A={left(o,a){const l=r.slice(a-1).indexOf(S)===-1;let n=Math.max(0,a-1);for(;n>=0;n--)if(r[n]===S){a=n,l===!0&&a++;break}if(n<0&&r[a]!==void 0&&r[a]!==S)return A.right(o,0);a>=0&&o.setSelectionRange(a,a,"backward")},right(o,a){const l=o.value.length;let n=Math.min(l,a+1);for(;n<=l;n++)if(r[n]===S){a=n;break}else r[n-1]===S&&(a=n);if(n>l&&r[a-1]!==void 0&&r[a-1]!==S)return A.left(o,l);o.setSelectionRange(a,a,"forward")},leftReverse(o,a){const l=_(o.value.length);let n=Math.max(0,a-1);for(;n>=0;n--)if(l[n-1]===S){a=n;break}else if(l[n]===S&&(a=n,n===0))break;if(n<0&&l[a]!==void 0&&l[a]!==S)return A.rightReverse(o,0);a>=0&&o.setSelectionRange(a,a,"backward")},rightReverse(o,a){const l=o.value.length,n=_(l),d=n.slice(0,a+1).indexOf(S)===-1;let c=Math.min(l,a+1);for(;c<=l;c++)if(n[c-1]===S){a=c,a>0&&d===!0&&a--;break}if(c>l&&n[a-1]!==void 0&&n[a-1]!==S)return A.leftReverse(o,l);o.setSelectionRange(a,a,"forward")}};function M(o){h("click",o),g=void 0}function F(o){if(h("keydown",o),pe(o)===!0||o.altKey===!0)return;const a=k.value,l=a.selectionStart,n=a.selectionEnd;if(o.shiftKey||(g=void 0),o.keyCode===37||o.keyCode===39){o.shiftKey&&g===void 0&&(g=a.selectionDirection==="forward"?l:n);const d=A[(o.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(o.preventDefault(),d(a,g===l?n:l),o.shiftKey){const c=a.selectionStart;a.setSelectionRange(Math.min(g,c),Math.max(g,c),"forward")}}else o.keyCode===8&&e.reverseFillMask!==!0&&l===n?(A.left(a,l),a.setSelectionRange(a.selectionStart,n,"backward")):o.keyCode===46&&e.reverseFillMask===!0&&l===n&&(A.rightReverse(a,n),a.setSelectionRange(l,a.selectionEnd,"forward"))}function E(o){if(o==null||o==="")return"";if(e.reverseFillMask===!0)return q(o);const a=f;let l=0,n="";for(let d=0;d<a.length;d++){const c=o[l],b=a[d];if(typeof b=="string")n+=b,c===b&&l++;else if(c!==void 0&&b.regex.test(c))n+=b.transform!==void 0?b.transform(c):c,l++;else return n}return n}function q(o){const a=f,l=r.indexOf(S);let n=o.length-1,d="";for(let c=a.length-1;c>=0&&n>-1;c--){const b=a[c];let m=o[n];if(typeof b=="string")d=b+d,m===b&&n--;else if(m!==void 0&&b.regex.test(m))do d=(b.transform!==void 0?b.transform(m):m)+d,n--,m=o[n];while(l===c&&m!==void 0&&b.regex.test(m));else return d}return d}function I(o){return typeof o!="string"||R===void 0?typeof o=="number"?R(""+o):o:R(o)}function W(o){return u.length-o.length<=0?o:e.reverseFillMask===!0&&o.length!==0?u.slice(0,-o.length)+o:o+u.slice(o.length)}return{innerValue:i,hasMask:x,moveCursorForPaste:z,updateMaskValue:B,onMaskedKeydown:F,onMaskedClick:M}}function Ze(e,h){function C(){const k=e.modelValue;try{const r="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(k)===k&&("length"in k?Array.from(k):[k]).forEach(u=>{r.items.add(u)}),{files:r.files}}catch{return{files:void 0}}}return h===!0?N(()=>{if(e.type==="file")return C()}):N(C)}var re=ue({name:"QInput",inheritAttrs:!1,props:{...ke,...Ke,...ye,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...xe,"paste","change","keydown","click","animationend"],setup(e,{emit:h,attrs:C}){const{proxy:k}=de(),{$q:r}=k,u={};let f=NaN,R,P,g=null,x;const i=H(null),L=we(e),{innerValue:s,hasMask:_,moveCursorForPaste:T,updateMaskValue:B,onMaskedKeydown:z,onMaskedClick:A}=De(e,h,m,i),M=Ze(e,!0),F=N(()=>X(s.value)),E=Se(c),q=Me(),I=N(()=>e.type==="textarea"||e.autogrow===!0),W=N(()=>I.value===!0||["text","search","url","tel","password"].includes(e.type)),o=N(()=>{const t={...q.splitAttrs.listeners.value,onInput:c,onPaste:d,onChange:K,onBlur:D,onFocus:te};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=E,_.value===!0&&(t.onKeydown=z,t.onClick=A),e.autogrow===!0&&(t.onAnimationend=b),t}),a=N(()=>{const t={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:L.value,...q.splitAttrs.attributes.value,id:q.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return I.value===!1&&(t.type=e.type),e.autogrow===!0&&(t.rows=1),t});j(()=>e.type,()=>{i.value&&(i.value.value=e.modelValue)}),j(()=>e.modelValue,t=>{if(_.value===!0){if(P===!0&&(P=!1,String(t)===f))return;B(t)}else s.value!==t&&(s.value=t,e.type==="number"&&u.hasOwnProperty("value")===!0&&(R===!0?R=!1:delete u.value));e.autogrow===!0&&Z(v)}),j(()=>e.autogrow,t=>{t===!0?Z(v):i.value!==null&&C.rows>0&&(i.value.style.height="auto")}),j(()=>e.dense,()=>{e.autogrow===!0&&Z(v)});function l(){ie(()=>{const t=document.activeElement;i.value!==null&&i.value!==t&&(t===null||t.id!==q.targetUid.value)&&i.value.focus({preventScroll:!0})})}function n(){i.value!==null&&i.value.select()}function d(t){if(_.value===!0&&e.reverseFillMask!==!0){const w=t.target;T(w,w.selectionStart,w.selectionEnd)}h("paste",t)}function c(t){if(!t||!t.target)return;if(e.type==="file"){h("update:modelValue",t.target.files);return}const w=t.target.value;if(t.target.qComposing===!0){u.value=w;return}if(_.value===!0)B(w,!1,t.inputType);else if(m(w),W.value===!0&&t.target===document.activeElement){const{selectionStart:$,selectionEnd:O}=t.target;$!==void 0&&O!==void 0&&Z(()=>{t.target===document.activeElement&&w.indexOf(t.target.value)===0&&t.target.setSelectionRange($,O)})}e.autogrow===!0&&v()}function b(t){h("animationend",t),v()}function m(t,w){x=()=>{g=null,e.type!=="number"&&u.hasOwnProperty("value")===!0&&delete u.value,e.modelValue!==t&&f!==t&&(f=t,w===!0&&(P=!0),h("update:modelValue",t),Z(()=>{f===t&&(f=NaN)})),x=void 0},e.type==="number"&&(R=!0,u.value=t),e.debounce!==void 0?(g!==null&&clearTimeout(g),u.value=t,g=setTimeout(x,e.debounce)):x()}function v(){requestAnimationFrame(()=>{const t=i.value;if(t!==null){const w=t.parentNode.style,{scrollTop:$}=t,{overflowY:O,maxHeight:V}=r.platform.is.firefox===!0?{}:window.getComputedStyle(t),U=O!==void 0&&O!=="scroll";U===!0&&(t.style.overflowY="hidden"),w.marginBottom=t.scrollHeight-1+"px",t.style.height="1px",t.style.height=t.scrollHeight+"px",U===!0&&(t.style.overflowY=parseInt(V,10)<t.scrollHeight?"auto":"hidden"),w.marginBottom="",t.scrollTop=$}})}function K(t){E(t),g!==null&&(clearTimeout(g),g=null),x!==void 0&&x(),h("change",t.target.value)}function D(t){t!==void 0&&te(t),g!==null&&(clearTimeout(g),g=null),x!==void 0&&x(),R=!1,P=!1,delete u.value,e.type!=="file"&&setTimeout(()=>{i.value!==null&&(i.value.value=s.value!==void 0?s.value:"")})}function y(){return u.hasOwnProperty("value")===!0?u.value:s.value!==void 0?s.value:""}Ce(()=>{D()}),ce(()=>{e.autogrow===!0&&v()}),Object.assign(q,{innerValue:s,fieldClass:N(()=>`q-${I.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:N(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:i,emitValue:m,hasValue:F,floatingLabel:N(()=>F.value===!0&&(e.type!=="number"||isNaN(s.value)===!1)||X(e.displayValue)),getControl:()=>G(I.value===!0?"textarea":"input",{ref:i,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...a.value,...o.value,...e.type!=="file"?{value:y()}:M.value}),getShadowControl:()=>G("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(I.value===!0?"":" text-no-wrap")},[G("span",{class:"invisible"},y()),G("span",e.shadowText)])});const p=be(q);return Object.assign(k,{focus:l,select:n,getNativeElement:()=>i.value}),_e(k,"nativeEl",()=>i.value),p}}),ze=ue({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:h,emit:C}){const k=de(),r=H(null);let u=0;const f=[];function R(s){const _=typeof s=="boolean"?s:e.noErrorFocus!==!0,T=++u,B=(M,F)=>{C("validation"+(M===!0?"Success":"Error"),F)},z=M=>{const F=M.validate();return typeof F.then=="function"?F.then(E=>({valid:E,comp:M}),E=>({valid:!1,comp:M,err:E})):Promise.resolve({valid:F,comp:M})};return(e.greedy===!0?Promise.all(f.map(z)).then(M=>M.filter(F=>F.valid!==!0)):f.reduce((M,F)=>M.then(()=>z(F).then(E=>{if(E.valid===!1)return Promise.reject(E)})),Promise.resolve()).catch(M=>[M])).then(M=>{if(M===void 0||M.length===0)return T===u&&B(!0),!0;if(T===u){const{comp:F,err:E}=M[0];if(E!==void 0&&console.error(E),B(!1,F),_===!0){const q=M.find(({comp:I})=>typeof I.focus=="function"&&Ae(I.$)===!1);q!==void 0&&q.comp.focus()}}return!1})}function P(){u++,f.forEach(s=>{typeof s.resetValidation=="function"&&s.resetValidation()})}function g(s){s!==void 0&&ae(s);const _=u+1;R().then(T=>{_===u&&T===!0&&(e.onSubmit!==void 0?C("submit",s):s!==void 0&&s.target!==void 0&&typeof s.target.submit=="function"&&s.target.submit())})}function x(s){s!==void 0&&ae(s),C("reset"),Z(()=>{P(),e.autofocus===!0&&e.noResetFocus!==!0&&i()})}function i(){ie(()=>{if(r.value===null)return;const s=r.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||r.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||r.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(r.value.querySelectorAll("[tabindex]"),_=>_.tabIndex>-1);s!=null&&s.focus({preventScroll:!0})})}Fe(Ie,{bindComponent(s){f.push(s)},unbindComponent(s){const _=f.indexOf(s);_>-1&&f.splice(_,1)}});let L=!1;return Ee(()=>{L=!0}),Re(()=>{L===!0&&e.autofocus===!0&&i()}),ce(()=>{e.autofocus===!0&&i()}),Object.assign(k.proxy,{validate:R,resetValidation:P,submit:g,reset:x,focus:i,getValidationComponents:()=>f}),()=>G("form",{class:"q-form",ref:r,onSubmit:g,onReset:x},Ve(h.default))}});function Ue(){return Pe(Te)}const Qe="https://api.online.engaged.com.br/graphql";var se={LOGIN:Qe};const He={setup(){const e=Ue(),h=H(null),C=H(null),k=qe(),r=Oe(),u=async g=>{g.preventDefault();const x={query:`
        mutation {
          adminUserSignIn(email: "${h.value}", password: "${C.value}") {
            sessionToken
          }
        }
      `};try{const L=(await ee.post("https://api.online.engaged.com.br/graphql",x)).data.data.adminUserSignIn.sessionToken;k.setToken(L),r.push({path:"/"})}catch{P("Login Failed","Invalid username or password")}},f=async g=>{g.preventDefault();try{const i=(await ee.post(se.REGISTER,{username:h.value,password:C.value})).data.token;k.setToken(i),r.push({path:"/"})}catch{P("Register Failed","User already registered")}},R=()=>{h.value=null,C.value=null},P=(g,x)=>{e.notify({message:g,caption:x,icon:"error",color:"red"})};return{username:h,password:C,onSubmit:u,onRegister:f,onReset:R,routers:se}}},Ye={class:"q-pa-md",style:{"min-width":"300px","max-width":"400px","margin-top":"10%"}},Ge=Y("br",null,null,-1),We={href:"https://campli.com.br/",target:"_blank"};function Je(e,h,C,k,r,u){return me(),ge("div",Ye,[Q(ze,{onSubmit:k.onSubmit,onReset:k.onReset,class:"q-gutter-md"},{default:Be(()=>[Q(re,{filled:"",modelValue:k.username,"onUpdate:modelValue":h[0]||(h[0]=f=>k.username=f),label:"E-Mail",autocomplete:"username","lazy-rules":"",rules:[f=>f&&f.length>0||"Este campo \xE9 obrigat\xF3rio"]},null,8,["modelValue","rules"]),Q(re,{filled:"",type:"password",modelValue:k.password,"onUpdate:modelValue":h[1]||(h[1]=f=>k.password=f),label:"Senha",autocomplete:"current-password",rules:[f=>f&&f.length>0||"Este campo \xE9 obrigat\xF3rio"]},null,8,["modelValue","rules"]),Ge,Y("div",null,[Q(ne,{label:"Entrar",type:"submit",color:"primary"}),Y("a",We,[Q(ne,{label:"Registrar",color:"primary",flat:"",class:"q-ml-sm"})])])]),_:1},8,["onSubmit","onReset"])])}var Xe=fe(He,[["render",Je]]);const et={name:"LoginPage",components:{LoginForm:Xe}},he=e=>($e("data-v-3fe71d79"),e=e(),Le(),e),tt={class:"login-page"},at={class:"login-container"},nt=he(()=>Y("br",null,null,-1)),ot=he(()=>Y("img",{src:"/icons/icon.png"},null,-1));function lt(e,h,C,k,r,u){const f=Ne("LoginForm");return me(),ge("div",tt,[Y("div",at,[nt,ot,Q(f)])])}var ut=fe(et,[["render",lt],["__scopeId","data-v-3fe71d79"]]);export{ut as default};
