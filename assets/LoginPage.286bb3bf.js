import{u as ke,f as ye,a as xe,g as we,c as Se,b as be,h as X,e as ie,i as Me,k as ee}from"./axios.b6cc4997.js";import{r as Y,w as j,e as U,ak as pe,a as O,c as ue,d as Ee,o as ce,h as H,ab as Ce,g as de,y as te,E as Re,a0 as _e,a5 as Fe,b as Ve,a1 as Ae,B as ae,at as Te,f as Ie,av as Pe,_ as fe,aq as qe,aw as Le,K as me,ar as ge,N as Q,M as Ne,P as G,Q as ne,J as Oe,ax as Be,ay as $e}from"./index.27f0e8f6.js";import"./use-dark.3cc97f67.js";const oe={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},J={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},ve=Object.keys(J);ve.forEach(e=>{J[e].regex=new RegExp(J[e].pattern)});const je=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+ve.join("")+"])|(.)","g"),le=/[.*+?^${}()|[\]\\]/g,M=String.fromCharCode(1),De={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Ke(e,h,E,k){let r,u,f,F,I,g;const x=Y(null),i=Y(s());function $(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}j(()=>e.type+e.autogrow,P),j(()=>e.mask,o=>{if(o!==void 0)N(i.value,!0);else{const a=T(i.value);P(),e.modelValue!==a&&h("update:modelValue",a)}}),j(()=>e.fillMask+e.reverseFillMask,()=>{x.value===!0&&N(i.value,!0)}),j(()=>e.unmaskedValue,()=>{x.value===!0&&N(i.value)});function s(){if(P(),x.value===!0){const o=_(T(e.modelValue));return e.fillMask!==!1?W(o):o}return e.modelValue}function C(o){if(o<r.length)return r.slice(-o);let a="",l=r;const n=l.indexOf(M);if(n>-1){for(let d=o-l.length;d>0;d--)a+=M;l=l.slice(0,n)+a+l.slice(n)}return l}function P(){if(x.value=e.mask!==void 0&&e.mask.length!==0&&$(),x.value===!1){F=void 0,r="",u="";return}const o=oe[e.mask]===void 0?e.mask:oe[e.mask],a=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",l=a.replace(le,"\\$&"),n=[],d=[],c=[];let b=e.reverseFillMask===!0,m="",v="";o.replace(je,(p,t,w,B,L)=>{if(B!==void 0){const V=J[B];c.push(V),v=V.negate,b===!0&&(d.push("(?:"+v+"+)?("+V.pattern+"+)?(?:"+v+"+)?("+V.pattern+"+)?"),b=!1),d.push("(?:"+v+"+)?("+V.pattern+")?")}else if(w!==void 0)m="\\"+(w==="\\"?"":w),c.push(w),n.push("([^"+m+"]+)?"+m+"?");else{const V=t!==void 0?t:L;m=V==="\\"?"\\\\\\\\":V.replace(le,"\\\\$&"),c.push(V),n.push("([^"+m+"]+)?"+m+"?")}});const D=new RegExp("^"+n.join("")+"("+(m===""?".":"[^"+m+"]")+"+)?"+(m===""?"":"["+m+"]*")+"$"),K=d.length-1,y=d.map((p,t)=>t===0&&e.reverseFillMask===!0?new RegExp("^"+l+"*"+p):t===K?new RegExp("^"+p+"("+(v===""?".":v)+"+)?"+(e.reverseFillMask===!0?"$":l+"*")):new RegExp("^"+p));f=c,F=p=>{const t=D.exec(e.reverseFillMask===!0?p:p.slice(0,c.length+1));t!==null&&(p=t.slice(1).join(""));const w=[],B=y.length;for(let L=0,V=p;L<B;L++){const Z=y[L].exec(V);if(Z===null)break;V=V.slice(Z.shift().length),w.push(...Z)}return w.length!==0?w.join(""):p},r=c.map(p=>typeof p=="string"?p:M).join(""),u=r.split(M).join(a)}function N(o,a,l){const n=k.value,d=n.selectionEnd,c=n.value.length-d,b=T(o);a===!0&&P();const m=_(b),v=e.fillMask!==!1?W(m):m,D=i.value!==v;n.value!==v&&(n.value=v),D===!0&&(i.value=v),document.activeElement===n&&U(()=>{if(v===u){const y=e.reverseFillMask===!0?u.length:0;n.setSelectionRange(y,y,"forward");return}if(l==="insertFromPaste"&&e.reverseFillMask!==!0){const y=n.selectionEnd;let p=d-1;for(let t=I;t<=p&&t<y;t++)r[t]!==M&&p++;A.right(n,p);return}if(["deleteContentBackward","deleteContentForward"].indexOf(l)>-1){const y=e.reverseFillMask===!0?d===0?v.length>m.length?1:0:Math.max(0,v.length-(v===u?0:Math.min(m.length,c)+1))+1:d;n.setSelectionRange(y,y,"forward");return}if(e.reverseFillMask===!0)if(D===!0){const y=Math.max(0,v.length-(v===u?0:Math.min(m.length,c+1)));y===1&&d===1?n.setSelectionRange(y,y,"forward"):A.rightReverse(n,y)}else{const y=v.length-c;n.setSelectionRange(y,y,"backward")}else if(D===!0){const y=Math.max(0,r.indexOf(M),Math.min(m.length,d)-1);A.right(n,y)}else{const y=d-1;A.right(n,y)}});const K=e.unmaskedValue===!0?T(v):v;String(e.modelValue)!==K&&E(K,!0)}function z(o,a,l){const n=_(T(o.value));a=Math.max(0,r.indexOf(M),Math.min(n.length,a)),I=a,o.setSelectionRange(a,l,"forward")}const A={left(o,a){const l=r.slice(a-1).indexOf(M)===-1;let n=Math.max(0,a-1);for(;n>=0;n--)if(r[n]===M){a=n,l===!0&&a++;break}if(n<0&&r[a]!==void 0&&r[a]!==M)return A.right(o,0);a>=0&&o.setSelectionRange(a,a,"backward")},right(o,a){const l=o.value.length;let n=Math.min(l,a+1);for(;n<=l;n++)if(r[n]===M){a=n;break}else r[n-1]===M&&(a=n);if(n>l&&r[a-1]!==void 0&&r[a-1]!==M)return A.left(o,l);o.setSelectionRange(a,a,"forward")},leftReverse(o,a){const l=C(o.value.length);let n=Math.max(0,a-1);for(;n>=0;n--)if(l[n-1]===M){a=n;break}else if(l[n]===M&&(a=n,n===0))break;if(n<0&&l[a]!==void 0&&l[a]!==M)return A.rightReverse(o,0);a>=0&&o.setSelectionRange(a,a,"backward")},rightReverse(o,a){const l=o.value.length,n=C(l),d=n.slice(0,a+1).indexOf(M)===-1;let c=Math.min(l,a+1);for(;c<=l;c++)if(n[c-1]===M){a=c,a>0&&d===!0&&a--;break}if(c>l&&n[a-1]!==void 0&&n[a-1]!==M)return A.leftReverse(o,l);o.setSelectionRange(a,a,"forward")}};function S(o){h("click",o),g=void 0}function R(o){if(h("keydown",o),pe(o)===!0||o.altKey===!0)return;const a=k.value,l=a.selectionStart,n=a.selectionEnd;if(o.shiftKey||(g=void 0),o.keyCode===37||o.keyCode===39){o.shiftKey&&g===void 0&&(g=a.selectionDirection==="forward"?l:n);const d=A[(o.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(o.preventDefault(),d(a,g===l?n:l),o.shiftKey){const c=a.selectionStart;a.setSelectionRange(Math.min(g,c),Math.max(g,c),"forward")}}else o.keyCode===8&&e.reverseFillMask!==!0&&l===n?(A.left(a,l),a.setSelectionRange(a.selectionStart,n,"backward")):o.keyCode===46&&e.reverseFillMask===!0&&l===n&&(A.rightReverse(a,n),a.setSelectionRange(l,a.selectionEnd,"forward"))}function _(o){if(o==null||o==="")return"";if(e.reverseFillMask===!0)return q(o);const a=f;let l=0,n="";for(let d=0;d<a.length;d++){const c=o[l],b=a[d];if(typeof b=="string")n+=b,c===b&&l++;else if(c!==void 0&&b.regex.test(c))n+=b.transform!==void 0?b.transform(c):c,l++;else return n}return n}function q(o){const a=f,l=r.indexOf(M);let n=o.length-1,d="";for(let c=a.length-1;c>=0&&n>-1;c--){const b=a[c];let m=o[n];if(typeof b=="string")d=b+d,m===b&&n--;else if(m!==void 0&&b.regex.test(m))do d=(b.transform!==void 0?b.transform(m):m)+d,n--,m=o[n];while(l===c&&m!==void 0&&b.regex.test(m));else return d}return d}function T(o){return typeof o!="string"||F===void 0?typeof o=="number"?F(""+o):o:F(o)}function W(o){return u.length-o.length<=0?o:e.reverseFillMask===!0&&o.length!==0?u.slice(0,-o.length)+o:o+u.slice(o.length)}return{innerValue:i,hasMask:x,moveCursorForPaste:z,updateMaskValue:N,onMaskedKeydown:R,onMaskedClick:S}}function Ue(e,h){function E(){const k=e.modelValue;try{const r="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(k)===k&&("length"in k?Array.from(k):[k]).forEach(u=>{r.items.add(u)}),{files:r.files}}catch{return{files:void 0}}}return h===!0?O(()=>{if(e.type==="file")return E()}):O(E)}var re=ue({name:"QInput",inheritAttrs:!1,props:{...ke,...De,...ye,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...xe,"paste","change","keydown","click","animationend"],setup(e,{emit:h,attrs:E}){const{proxy:k}=de(),{$q:r}=k,u={};let f=NaN,F,I,g=null,x;const i=Y(null),$=we(e),{innerValue:s,hasMask:C,moveCursorForPaste:P,updateMaskValue:N,onMaskedKeydown:z,onMaskedClick:A}=Ke(e,h,m,i),S=Ue(e,!0),R=O(()=>X(s.value)),_=Me(c),q=Se(),T=O(()=>e.type==="textarea"||e.autogrow===!0),W=O(()=>T.value===!0||["text","search","url","tel","password"].includes(e.type)),o=O(()=>{const t={...q.splitAttrs.listeners.value,onInput:c,onPaste:d,onChange:D,onBlur:K,onFocus:te};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=_,C.value===!0&&(t.onKeydown=z,t.onClick=A),e.autogrow===!0&&(t.onAnimationend=b),t}),a=O(()=>{const t={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:$.value,...q.splitAttrs.attributes.value,id:q.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return T.value===!1&&(t.type=e.type),e.autogrow===!0&&(t.rows=1),t});j(()=>e.type,()=>{i.value&&(i.value.value=e.modelValue)}),j(()=>e.modelValue,t=>{if(C.value===!0){if(I===!0&&(I=!1,String(t)===f))return;N(t)}else s.value!==t&&(s.value=t,e.type==="number"&&u.hasOwnProperty("value")===!0&&(F===!0?F=!1:delete u.value));e.autogrow===!0&&U(v)}),j(()=>e.autogrow,t=>{t===!0?U(v):i.value!==null&&E.rows>0&&(i.value.style.height="auto")}),j(()=>e.dense,()=>{e.autogrow===!0&&U(v)});function l(){ie(()=>{const t=document.activeElement;i.value!==null&&i.value!==t&&(t===null||t.id!==q.targetUid.value)&&i.value.focus({preventScroll:!0})})}function n(){i.value!==null&&i.value.select()}function d(t){if(C.value===!0&&e.reverseFillMask!==!0){const w=t.target;P(w,w.selectionStart,w.selectionEnd)}h("paste",t)}function c(t){if(!t||!t.target)return;if(e.type==="file"){h("update:modelValue",t.target.files);return}const w=t.target.value;if(t.target.qComposing===!0){u.value=w;return}if(C.value===!0)N(w,!1,t.inputType);else if(m(w),W.value===!0&&t.target===document.activeElement){const{selectionStart:B,selectionEnd:L}=t.target;B!==void 0&&L!==void 0&&U(()=>{t.target===document.activeElement&&w.indexOf(t.target.value)===0&&t.target.setSelectionRange(B,L)})}e.autogrow===!0&&v()}function b(t){h("animationend",t),v()}function m(t,w){x=()=>{g=null,e.type!=="number"&&u.hasOwnProperty("value")===!0&&delete u.value,e.modelValue!==t&&f!==t&&(f=t,w===!0&&(I=!0),h("update:modelValue",t),U(()=>{f===t&&(f=NaN)})),x=void 0},e.type==="number"&&(F=!0,u.value=t),e.debounce!==void 0?(g!==null&&clearTimeout(g),u.value=t,g=setTimeout(x,e.debounce)):x()}function v(){requestAnimationFrame(()=>{const t=i.value;if(t!==null){const w=t.parentNode.style,{scrollTop:B}=t,{overflowY:L,maxHeight:V}=r.platform.is.firefox===!0?{}:window.getComputedStyle(t),Z=L!==void 0&&L!=="scroll";Z===!0&&(t.style.overflowY="hidden"),w.marginBottom=t.scrollHeight-1+"px",t.style.height="1px",t.style.height=t.scrollHeight+"px",Z===!0&&(t.style.overflowY=parseInt(V,10)<t.scrollHeight?"auto":"hidden"),w.marginBottom="",t.scrollTop=B}})}function D(t){_(t),g!==null&&(clearTimeout(g),g=null),x!==void 0&&x(),h("change",t.target.value)}function K(t){t!==void 0&&te(t),g!==null&&(clearTimeout(g),g=null),x!==void 0&&x(),F=!1,I=!1,delete u.value,e.type!=="file"&&setTimeout(()=>{i.value!==null&&(i.value.value=s.value!==void 0?s.value:"")})}function y(){return u.hasOwnProperty("value")===!0?u.value:s.value!==void 0?s.value:""}Ee(()=>{K()}),ce(()=>{e.autogrow===!0&&v()}),Object.assign(q,{innerValue:s,fieldClass:O(()=>`q-${T.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:O(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:i,emitValue:m,hasValue:R,floatingLabel:O(()=>R.value===!0&&(e.type!=="number"||isNaN(s.value)===!1)||X(e.displayValue)),getControl:()=>H(T.value===!0?"textarea":"input",{ref:i,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...a.value,...o.value,...e.type!=="file"?{value:y()}:S.value}),getShadowControl:()=>H("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(T.value===!0?"":" text-no-wrap")},[H("span",{class:"invisible"},y()),H("span",e.shadowText)])});const p=be(q);return Object.assign(k,{focus:l,select:n,getNativeElement:()=>i.value}),Ce(k,"nativeEl",()=>i.value),p}}),ze=ue({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:h,emit:E}){const k=de(),r=Y(null);let u=0;const f=[];function F(s){const C=typeof s=="boolean"?s:e.noErrorFocus!==!0,P=++u,N=(S,R)=>{E("validation"+(S===!0?"Success":"Error"),R)},z=S=>{const R=S.validate();return typeof R.then=="function"?R.then(_=>({valid:_,comp:S}),_=>({valid:!1,comp:S,err:_})):Promise.resolve({valid:R,comp:S})};return(e.greedy===!0?Promise.all(f.map(z)).then(S=>S.filter(R=>R.valid!==!0)):f.reduce((S,R)=>S.then(()=>z(R).then(_=>{if(_.valid===!1)return Promise.reject(_)})),Promise.resolve()).catch(S=>[S])).then(S=>{if(S===void 0||S.length===0)return P===u&&N(!0),!0;if(P===u){const{comp:R,err:_}=S[0];if(_!==void 0&&console.error(_),N(!1,R),C===!0){const q=S.find(({comp:T})=>typeof T.focus=="function"&&Ae(T.$)===!1);q!==void 0&&q.comp.focus()}}return!1})}function I(){u++,f.forEach(s=>{typeof s.resetValidation=="function"&&s.resetValidation()})}function g(s){s!==void 0&&ae(s);const C=u+1;F().then(P=>{C===u&&P===!0&&(e.onSubmit!==void 0?E("submit",s):s!==void 0&&s.target!==void 0&&typeof s.target.submit=="function"&&s.target.submit())})}function x(s){s!==void 0&&ae(s),E("reset"),U(()=>{I(),e.autofocus===!0&&e.noResetFocus!==!0&&i()})}function i(){ie(()=>{if(r.value===null)return;const s=r.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||r.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||r.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(r.value.querySelectorAll("[tabindex]"),C=>C.tabIndex>-1);s!=null&&s.focus({preventScroll:!0})})}Re(Te,{bindComponent(s){f.push(s)},unbindComponent(s){const C=f.indexOf(s);C>-1&&f.splice(C,1)}});let $=!1;return _e(()=>{$=!0}),Fe(()=>{$===!0&&e.autofocus===!0&&i()}),ce(()=>{e.autofocus===!0&&i()}),Object.assign(k.proxy,{validate:F,resetValidation:I,submit:g,reset:x,focus:i,getValidationComponents:()=>f}),()=>H("form",{class:"q-form",ref:r,onSubmit:g,onReset:x},Ve(h.default))}});function Ze(){return Ie(Pe)}const Qe="https://api.online.engaged.com.br/graphql",Ye="https://api.de-id.com.br/register",Ge="https://api.de-id.com.br/anonymize/sync",He="https://api.de-id.com.br/anonymize/async",We="https://api.de-id.com.br/results",Je="https://api.de-id.com.br/result_detail/";var se={LOGIN:Qe,REGISTER:Ye,SYNC:Ge,ASYNC:He,RESULTS:We,RESULTS_DETAILS:Je};const Xe={setup(){const e=Ze(),h=Y(null),E=Y(null),k=qe(),r=Le(),u=async g=>{g.preventDefault();const x={query:`
        mutation {
          adminUserSignIn(email: "${h.value}", password: "${E.value}") {
            sessionToken
          }
        }
      `};try{const $=(await ee.post("https://api.online.engaged.com.br/graphql",x)).data.data.adminUserSignIn.sessionToken;k.setToken($),r.push({path:"/"})}catch{I("Login Failed","Invalid username or password")}},f=async g=>{g.preventDefault();try{const i=(await ee.post(se.REGISTER,{username:h.value,password:E.value})).data.token;k.setToken(i),r.push({path:"/"})}catch{I("Register Failed","User already registered")}},F=()=>{h.value=null,E.value=null},I=(g,x)=>{e.notify({message:g,caption:x,icon:"error",color:"red"})};return{username:h,password:E,onSubmit:u,onRegister:f,onReset:F,routers:se}}},et={class:"q-pa-md",style:{"min-width":"300px","max-width":"400px","margin-top":"10%"}},tt=G("br",null,null,-1),at={href:"https://campli.com.br/",target:"_blank"};function nt(e,h,E,k,r,u){return me(),ge("div",et,[Q(ze,{onSubmit:k.onSubmit,onReset:k.onReset,class:"q-gutter-md"},{default:Ne(()=>[Q(re,{filled:"",modelValue:k.username,"onUpdate:modelValue":h[0]||(h[0]=f=>k.username=f),label:"E-Mail",autocomplete:"username","lazy-rules":"",rules:[f=>f&&f.length>0||"Este campo \xE9 obrigat\xF3rio"]},null,8,["modelValue","rules"]),Q(re,{filled:"",type:"password",modelValue:k.password,"onUpdate:modelValue":h[1]||(h[1]=f=>k.password=f),label:"Senha",autocomplete:"current-password",rules:[f=>f&&f.length>0||"Este campo \xE9 obrigat\xF3rio"]},null,8,["modelValue","rules"]),tt,G("div",null,[Q(ne,{label:"Entrar",type:"submit",color:"primary"}),G("a",at,[Q(ne,{label:"Registrar",color:"primary",flat:"",class:"q-ml-sm"})])])]),_:1},8,["onSubmit","onReset"])])}var ot=fe(Xe,[["render",nt]]);const lt={name:"LoginPage",components:{LoginForm:ot}},he=e=>(Be("data-v-3fe71d79"),e=e(),$e(),e),rt={class:"login-page"},st={class:"login-container"},it=he(()=>G("br",null,null,-1)),ut=he(()=>G("img",{src:"/icons/icon.png"},null,-1));function ct(e,h,E,k,r,u){const f=Oe("LoginForm");return me(),ge("div",rt,[G("div",st,[it,ut,Q(f)])])}var gt=fe(lt,[["render",ct],["__scopeId","data-v-3fe71d79"]]);export{gt as default};
